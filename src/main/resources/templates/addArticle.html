<!doctype html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
  <nav th:insert="components/navbar :: navbar" class="navbar navbar-expand-lg bg-body-tertiary"></nav>
  <p th:text="${email}"></p>
  <div class="container my-5">
    <h1 class="my-3 text-center">Добавить статью</h1>
    <div class="col-sm-6 mx-auto">
      <form onsubmit="sendForm(this); return false;" action="/addArticle" method="post">
        <div class="mb-3">
          <input type="text" class="form-control" placeholder="Заголовок" name="title">
        </div>
        <div class="mb-3">
          <textarea id="sample" type="text" class="form-control" placeholder="Контент"></textarea>
        </div>
        <div class="mb-3">
          <input type="text" class="form-control" placeholder="Автор" name="author">
        </div>
        <div class="mb-3">
          <input type="submit" class="form-control btn btn-primary" value="Добавить статью">
        </div>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/suneditor@latest/dist/css/suneditor.min.css" rel="stylesheet">
  <!-- <link href="https://cdn.jsdelivr.net/npm/suneditor@latest/assets/css/suneditor.css" rel="stylesheet"> -->
  <!-- <link href="https://cdn.jsdelivr.net/npm/suneditor@latest/assets/css/suneditor-contents.css" rel="stylesheet"> -->
  <script src="https://cdn.jsdelivr.net/npm/suneditor@latest/dist/suneditor.min.js"></script>
  <!-- languages (Basic Language: English/en) -->
  <script src="https://cdn.jsdelivr.net/npm/suneditor@latest/src/lang/ko.js"></script>
  <script>
    const editor = SUNEDITOR.create((document.getElementById('sample') || 'sample'),{
        // All of the plugins are loaded in the "window.SUNEDITOR" object in dist/suneditor.min.js file
        // Insert options
        // Language global object (default: en)
        lang: SUNEDITOR_LANG['ko']
    });

    function sendForm(form){
      const formData = new FormData(form);
      formData.append("content", editor.getContents());
      console.log("Перехват отправки формы");
      console.log("Данные из виртуально формы");
      console.log("Заголовок", formData.get("title"));
      console.log("Контент", formData.get("content"));
      console.log("Автор", formData.get("author"));
    }
  </script>
</body>
</html>